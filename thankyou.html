<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-5859FD2');</script>
        <!-- End Google Tag Manager -->
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
        <meta name="description" content=""/>
        <meta name="author" content=""/>
        <title>Homsy</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/img/favicon.png"/>
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,500;0,600;0,700;0,800;1,400;1,500&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@300;400;500&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,400italic,700italic" rel="stylesheet" type="text/css"/>
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
        <link href="css/theme.css" rel="stylesheet" type="text/css">
    </head>
    <body id="page-top">
        <!-- Google Tag Manager (noscript) -->
        <noscript>
            <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5859FD2" height="0" width="0" style="display:none;visibility:hidden"></iframe>
        </noscript>
        <!-- End Google Tag Manager (noscript) -->
        <!-- Navigation-->
        <!-- Masthead-->
        <header class="masthead text-white text-center bg-theme">
            <div class="container align-items-center">
                <div class="row align-items-center">
                    <div class="col-lg-12 text-center">
                        <h1 class="theme-head mb-4 text-center"> <span class="theme-text-color">Thank You,</span> We have recieved your request</h1>
                        <a class="btn btn-primary theme-btn" href="index.html">Back to Home</a>
                    </div>
                </div>
                <!-- Masthead Avatar Image-->
                <!-- Masthead Heading-->
                <!-- Icon Divider-->
                <!-- Masthead Subheading-->
            </div>
        </header>
        <nav class="navbar navbar-expand-lg text-uppercase fixed-top" id="mainNav">
            <div class="container justify-content-center">
                <a class="navbar-brand" href="#page-top"><img src="assets/img/logo.svg" class="theme-logo"/></a>
            </div>
        </nav>
        <!-- Portfolio Section-->
        <!-- About Section-->
        <!-- Contact Section-->
        <!-- Footer-->
        <!-- Copyright Section-->
        <div class="copyright py-4 text-center text-white">
            <div class="container">
                <small>Copyright @ Homsy 2022</small>
            </div>
        </div>
        <!-- Portfolio Modals-->
        <!-- Portfolio Modal 1-->
        <!-- Portfolio Modal 2-->
        <!-- Portfolio Modal 3-->
        <!-- Portfolio Modal 4-->
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <!-- * *                               SB Forms JS                               * *-->
        <!-- * * Activate your form at https://startbootstrap.com/solution/contact-forms * *-->
        <!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *-->
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
        <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
        <script>
                                $('.btn-number').click(function(e){
                        e.preventDefault();
                        
                        fieldName = $(this).attr('data-field');
                        type      = $(this).attr('data-type');
                        var input = $("input[name='"+fieldName+"']");
                        var currentVal = parseInt(input.val());
                        if (!isNaN(currentVal)) {
                            if(type == 'minus') {
                                
                                if(currentVal > input.attr('min')) {
                                    input.val(currentVal - 100000).change();
                                } 
                                if(parseInt(input.val()) == input.attr('min')) {
                                    $(this).attr('disabled', true);
                                }

                            } else if(type == 'plus') {

                                if(currentVal < input.attr('max')) {
                                    input.val(currentVal + 100000).change();
                                }
                                if(parseInt(input.val()) == input.attr('max')) {
                                    $(this).attr('disabled', true);
                                }

                            }
                        } else {
                            input.val(0);
                        }
                    });
                    $('.input-number').focusin(function(){
                    $(this).data('oldValue', $(this).val());
                    });
                    $('.input-number').change(function() {
                        
                        minValue =  parseInt($(this).attr('min'));
                        maxValue =  parseInt($(this).attr('max'));
                        valueCurrent = parseInt($(this).val());
                        
                        name = $(this).attr('name');
                        if(valueCurrent >= minValue) {
                            $(".btn-number[data-type='minus'][data-field='"+name+"']").removeAttr('disabled')
                        } else {
                            alert('Sorry, the minimum value was reached');
                            $(this).val($(this).data('oldValue'));
                        }
                        if(valueCurrent <= maxValue) {
                            $(".btn-number[data-type='plus'][data-field='"+name+"']").removeAttr('disabled')
                        } else {
                            alert('Sorry, the maximum value was reached');
                            $(this).val($(this).data('oldValue'));
                        }
                    });

                    $(".input-number").keydown(function (e) {
                        // Allow: backspace, delete, tab, escape, enter and .
                        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 190]) !== -1 ||
                            // Allow: Ctrl+A
                            (e.keyCode == 65 && e.ctrlKey === true) || 
                            // Allow: home, end, left, right
                            (e.keyCode >= 35 && e.keyCode <= 39)) {
                                // let it happen, don't do anything
                                return;
                        }
                        // Ensure that it is a number and stop the keypress
                        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                            e.preventDefault();
                        }
                    });

                    const eligibility_form = document.forms['eligibility-1']
                    eligibility_form.addEventListener('submit', e => {
                    e.preventDefault()
                    $('#eligibility-1').css('display', 'none');
                    
                    setTimeout( function() { 
                        $('#eligibility-2').css('display', 'flex');
                                }, 300);
                    e.target.reset();
                    
                })

                var slider = document.getElementById("amt-range");
                var output = document.getElementById("amt-range-val");
                var slider_max = slider.getAttribute("max")
                var payback_amt = document.getElementById("payback_amt");
                output.innerHTML = slider.value + 'L';
                payback_amt.innerHTML = (slider.value * 100000).toLocaleString('en-IN');
                output.style.left = (slider.value/slider_max)*100 + '%';


                slider.oninput = function() {
                slider_max = slider.getAttribute("max")
                output.innerHTML = this.value + 'L';
                output.style.left = (this.value/slider_max)*100 + '%';
                CalHomeVal(this.value * 100000,slider2.value,slider_max);
                }

                var slider2 = document.getElementById("ten-range");
                var output2 = document.getElementById("ten-range-val");
                output2.innerHTML = slider2.value + 'Y';
                output2.style.left = (slider2.value/10)*100 + '%';

                slider2.oninput = function() {
                output2.innerHTML = this.value + 'Y';
                output2.style.left = ((this.value/10)*100)-6 + '%';
                CalHomeVal(slider.value * 100000,this.value,slider_max);
                }

                function submitForm(that) {
                    console.log(that[4].value)
                    var e_amt = (that[4].value)/2.5;
                    var max_amt = e_amt/100000;
                    e_amt = e_amt.toLocaleString('en-IN');
                    document.getElementById("e_amt").innerHTML = ' ' + e_amt;
                    slider.setAttribute("max",max_amt)
                }

                CalHomeVal = function(val,ten,max) {
                    var homeValue = (max * 2.5) * 100000;
                    var loanAmount = val
                    var tenure = ten
                    appreciationRate = 0.032;
                    var riskAdjustmentDiscount = 0.2
                    var homsyAppreciationBonus = 0.15

                    var homsyAppreciationPercentage = (loanAmount/homeValue) + homsyAppreciationBonus

                    var finalHomeValue = homeValue * ( Math.pow((1+appreciationRate) , tenure ));

                    var homsyShare = loanAmount + ( homsyAppreciationPercentage * ( finalHomeValue - homeValue*(1-riskAdjustmentDiscount) ))
                    var ownerShare = finalHomeValue - homsyShare


                    var pay_val = Math.trunc(homsyShare) ;
                    payback_amt.innerHTML = (pay_val.toLocaleString('en-IN'));
                    document.getElementById("finalHomeValue").innerHTML = ((Math.trunc(finalHomeValue)).toLocaleString('en-IN'))
                    document.getElementById("homsyShare").innerHTML = (pay_val.toLocaleString('en-IN'))
                    document.getElementById("ownerShare").innerHTML = ((Math.trunc(ownerShare)).toLocaleString('en-IN'))
                    document.getElementById("tenure").innerHTML = tenure;
                }

        </script>
        <script>
            success = function() {
                                $('.success-box').css('display', 'block');
                                setTimeout( function() { 
                                    $('.success-box').css('display', 'none');
                                }, 4000);
                            }
                const scriptURL = 'https://script.google.com/macros/s/AKfycbx7Pq3qGIylzFyNk4osuzYhmIeM6qdRyYPqbu3X2uIeq68GEHBo6MBUixQi5-TKD4or/exec'
                const form = document.forms['submit-to-google-sheet']


                form.addEventListener('submit', e => {
                    e.preventDefault()
                    fetch(scriptURL, { method: 'POST', body: new FormData(form)})
                    .then(response => console.log('Success!', response.json()),
                            success()    
                        )
                    .catch(error => console.error('Error!', error.message))
                    e.target.reset();
                })

        </script>
        <script>
            success = function() {
                                $('.success-box2').css('display', 'block');
                                setTimeout( function() { 
                                    $('.success-box2').css('display', 'none');
                                }, 4000);
                    }
                const scriptURL2 = 'https://script.google.com/macros/s/AKfycbxIkmVub4bZAnlrkFqLhnz2W54c1XePsmHZElxdc09FUiYJCtYmSzXgKZFXOwSZ6Bfq-g/exec'
                const form2 = document.forms['submit-to-google-sheet-2']


                form2.addEventListener('submit', e => {
                    e.preventDefault()
                    fetch(scriptURL2, { method: 'POST', body: new FormData(form2)})
                    .then(response => console.log('Success!', response.json()),
                            success()    
                        )
                    .catch(error => console.error('Error!', error.message))
                    e.target.reset();
                })
        </script>
    </body>
</html>
